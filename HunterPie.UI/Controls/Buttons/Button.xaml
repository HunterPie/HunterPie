<arch:ClickableControl x:Name="NativeButtonControl"
                       x:Class="HunterPie.UI.Controls.Buttons.Button"
                       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                       xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                       xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                       xmlns:arch="clr-namespace:HunterPie.UI.Architecture"
                       xmlns:local="clr-namespace:HunterPie.UI.Controls.Buttons"
                       xmlns:effects="clr-namespace:HunterPie.UI.Controls.Effects"
                       mc:Ignorable="d" 
                       d:DesignHeight="25" 
                       d:DesignWidth="60"
                       ClipToBounds="True"
                       Cursor="Hand">
    <arch:ClickableControl.Resources>
        <Storyboard x:Key="PART_RippleAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Width" 
                             From="0" 
                             Duration="0:0:0.3" />
            <ThicknessAnimation Storyboard.TargetProperty="Margin" 
                                Duration="0:0:0.3" />
            <DoubleAnimation Duration="0:0:0.8" 
                             Storyboard.TargetProperty="Opacity"
                             From="1"
                             To="0">
                <DoubleAnimation.EasingFunction>
                    <SineEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="Width" 
                             To="0" 
                             BeginTime="0:0:1.25" 
                             Duration="0:0:0" />
            <DoubleAnimation BeginTime="0:0:1.25" 
                             Duration="0:0:0" 
                             Storyboard.TargetProperty="Opacity" 
                             To="1">
                <DoubleAnimation.EasingFunction>
                    <SineEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </arch:ClickableControl.Resources>
    <Border CornerRadius="{Binding CornerRadius, ElementName=NativeButtonControl}"
            BorderThickness="{Binding BorderThickness, ElementName=NativeButtonControl}"
            BorderBrush="{Binding BorderBrush, ElementName=NativeButtonControl}"
            Background="{Binding Background, ElementName=NativeButtonControl}">
        <Grid>
            <Grid.OpacityMask>
                <VisualBrush>
                    <VisualBrush.Visual>
                        <Border CornerRadius="{Binding CornerRadius, ElementName=NativeButtonControl}"
                                BorderThickness="{Binding BorderThickness, ElementName=NativeButtonControl}"
                                BorderBrush="Black"
                                Background="Black"
                                Height="{Binding ActualHeight, ElementName=NativeButtonControl}"
                                Width="{Binding ActualWidth, ElementName=NativeButtonControl}"/>
                    </VisualBrush.Visual>
                </VisualBrush>
            </Grid.OpacityMask>
            <effects:CursorHighLight>
                <Label Content="{Binding Content, RelativeSource={RelativeSource AncestorType={x:Type local:Button}}}"
                       Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType={x:Type local:Button}}}"
                       FontFamily="{StaticResource Font.Default}"
                       Padding="{Binding Padding, RelativeSource={RelativeSource AncestorType={x:Type local:Button}}}"
                       HorizontalContentAlignment="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type local:Button}}}"
                       VerticalContentAlignment="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type local:Button}}}"/>
            </effects:CursorHighLight>
            <Canvas ClipToBounds="True"
                    x:Name="PART_RippleContainer"
                    IsHitTestVisible="False"/>
        </Grid>
    </Border>
</arch:ClickableControl>
